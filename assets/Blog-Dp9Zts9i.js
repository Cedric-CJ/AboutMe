import{_ as T,r as f,f as L,c as a,o as i,a as s,i as d,F as y,h as _,d as V,t as u,m,w as A,p as U,v as D,e as F,T as H}from"./index-DoodzJZr.js";const N={class:"page-auto-contrast"},O={key:0,class:"adblock-warning"},S={class:"blog-container"},$=["onClick"],z={class:"head-left"},I={class:"blog-title"},P={class:"blog-date"},q={key:0,class:"blog-summary"},R={class:"indicator","aria-label":"toggle details"},W={class:"blog-card-body is-collapsible"},Y={class:"blog-content-wrapper"},G=["src"],J=["src","alt","onClick"],K=["innerHTML"],Q={key:0,class:"blog-urls"},X=["href"],Z={__name:"Blog",setup(ee){const g=f([]),l=f([]),v=f(!1);function k(e){return(e||"").replace(/\n/g,"<br>")}function p(e){return e==="right"?"float-top-right":"float-top-left"}function b(){v.value=!0}function h(e){return e&&(e.startsWith("./")?e.slice(1):e)}function E(e){if(!e.video)return;const n=h(e.video);fetch(n).then(t=>{if(!t.ok)throw new Error("Video konnte nicht geladen werden");return t.blob()}).then(t=>{e.videoObjectUrl=URL.createObjectURL(t)}).catch(()=>b())}function w(e){e.isEnlarged=!e.isEnlarged}function x(e){var n,t;try{const o=(((t=(n=e==null?void 0:e.sections)==null?void 0:n[0])==null?void 0:t.content)||"").replace(/\n+/g," ").trim();if(!o)return"";const r=o.match(/[.!?](?:\s|$)/);if(r){const c=o.indexOf(r[0])+r[0].length;if(c>=40&&c<=220)return o.slice(0,c).trim()}return o.slice(0,160).trim()}catch{return""}}L(async()=>{try{const n=await(await fetch("/BlogsDe.json")).json();g.value=n.map(t=>({...t,sections:(t.sections||[]).map(o=>({...o,image:h(o.image),video:h(o.video),isEnlarged:(o.image||"").includes("AWE_Digitale_Muendigkeit.jpg")})),summary:x(t)})),l.value=n.map(()=>!1),g.value.forEach(t=>t.sections.forEach(E))}catch{}});function B(e){l.value[e]=!l.value[e]}function M(e){e.style.height="0px",e.style.opacity="0",e.style.transform="translateY(-4px)",requestAnimationFrame(()=>{e.style.transition="height .35s ease, opacity .3s ease, transform .3s ease",e.style.height=e.scrollHeight+"px",e.style.opacity="1",e.style.transform="translateY(0)"})}function C(e){e.style.height="auto",e.style.transition=""}function j(e){e.style.height=e.scrollHeight+"px",e.style.opacity="1",requestAnimationFrame(()=>{e.style.transition="height .3s ease, opacity .25s ease",e.style.height="0px",e.style.opacity="0"})}return(e,n)=>(i(),a("div",N,[n[4]||(n[4]=s("section",{class:"intro relative"},[s("h1",{class:"page-title text-center"},"Blog")],-1)),v.value?(i(),a("div",O,[...n[0]||(n[0]=[s("p",null,"Es konnten nicht alle Medien geladen werden. Eventuell blockiert ein AdBlocker die Medien.",-1)])])):d("",!0),s("div",S,[(i(!0),a(y,null,_(g.value,(t,o)=>(i(),a("div",{key:o,class:"blog-card glass-card"},[s("div",{class:"blog-card-head",onClick:r=>B(o)},[s("div",z,[n[1]||(n[1]=s("svg",{class:"badge",viewBox:"0 0 24 24","aria-hidden":"true"},[s("circle",{cx:"12",cy:"12",r:"10",fill:"rgba(255,255,255,.12)"}),s("path",{d:"M8 12l2 2 4-4",fill:"none",stroke:"#7dd3fc","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),s("div",null,[s("h2",I,u(t.title),1),s("p",P,u(t.date),1),!l.value[o]&&t.summary?(i(),a("p",q,u(t.summary),1)):d("",!0)])]),s("button",R,[(i(),a("svg",{viewBox:"0 0 24 24",class:m(["arr",{rot:l.value[o]}])},[...n[2]||(n[2]=[s("path",{d:"M8 5l8 7-8 7",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1)])],2))])],8,$),V(H,{name:"expand",onEnter:M,onAfterEnter:C,onLeave:j},{default:A(()=>[U(s("div",W,[s("div",Y,[(i(!0),a(y,null,_(t.sections,(r,c)=>(i(),a("div",{key:c,class:"blog-section"},[r.video?(i(),a("video",{key:0,controls:"",class:m(["blog-video",p(r.imagePosition)])},[s("source",{src:r.videoObjectUrl||r.video,type:"video/mp4"},null,8,G),n[3]||(n[3]=F(" Dein Browser unterstÃ¼tzt keine Video Tags. ",-1))],2)):r.image?(i(),a("img",{key:1,src:r.image,alt:`Blog Bild ${c}`,class:m(["blog-img",p(r.imagePosition),{enlarged:r.isEnlarged}]),onClick:te=>w(r)},null,10,J)):d("",!0),s("p",{class:"blog-content",innerHTML:k(r.content)},null,8,K)]))),128))]),t.linkText&&t.linkUrl?(i(),a("div",Q,[s("a",{href:t.linkUrl,target:"_blank",rel:"noopener noreferrer",class:"blog-url"},u(t.linkText),9,X)])):d("",!0)],512),[[D,l.value[o]]])]),_:2},1024)]))),128))])]))}},ne=T(Z,[["__scopeId","data-v-6b828c16"]]);export{ne as default};
