import{_ as L,r as m,f as T,c as r,o as i,a as s,i as d,F as y,h as _,d as A,t as u,m as f,w as U,p as V,v as S,e as F,T as H}from"./index-DoodzJZr.js";const N={class:"page-auto-contrast"},O={key:0,class:"adblock-warning"},$={class:"blog-container"},D=["onClick"],I={class:"head-left"},P={class:"blog-title"},Y={class:"blog-date"},q={key:0,class:"blog-summary"},z={class:"indicator","aria-label":"toggle details"},R={class:"blog-card-body is-collapsible"},W={class:"blog-content-wrapper"},G=["src"],J=["src","alt","onClick"],K=["innerHTML"],Q={key:0,class:"blog-urls"},X=["href"],Z={__name:"BlogEn",setup(ee){const g=m([]),l=m([]),v=m(!1);function k(e){return(e||"").replace(/\n/g,"<br>")}function p(e){return e==="right"?"float-top-right":"float-top-left"}function b(){v.value=!0}function h(e){return e&&(e.startsWith("./")?e.slice(1):e)}function E(e){if(!e.video)return;const o=h(e.video);fetch(o).then(t=>{if(!t.ok)throw new Error("Video failed");return t.blob()}).then(t=>{e.videoObjectUrl=URL.createObjectURL(t)}).catch(()=>b())}function w(e){e.isEnlarged=!e.isEnlarged}function x(e){var o,t;try{const n=(((t=(o=e==null?void 0:e.sections)==null?void 0:o[0])==null?void 0:t.content)||"").replace(/\n+/g," ").trim();if(!n)return"";const a=n.match(/[.!?](?:\s|$)/);if(a){const c=n.indexOf(a[0])+a[0].length;if(c>=40&&c<=220)return n.slice(0,c).trim()}return n.slice(0,160).trim()}catch{return""}}T(async()=>{try{const o=await(await fetch("/BlogsEng.json")).json();g.value=o.map(t=>({...t,sections:(t.sections||[]).map(n=>({...n,image:h(n.image),video:h(n.video),isEnlarged:(n.image||"").includes("AWE_Digitale_Muendigkeit.jpg")})),summary:x(t)})),l.value=o.map(()=>!1),g.value.forEach(t=>t.sections.forEach(E))}catch{}});function B(e){l.value[e]=!l.value[e]}function C(e){e.style.height="0px",e.style.opacity="0",e.style.transform="translateY(-4px)",requestAnimationFrame(()=>{e.style.transition="height .35s ease, opacity .3s ease, transform .3s ease",e.style.height=e.scrollHeight+"px",e.style.opacity="1",e.style.transform="translateY(0)"})}function M(e){e.style.height="auto",e.style.transition=""}function j(e){e.style.height=e.scrollHeight+"px",e.style.opacity="1",requestAnimationFrame(()=>{e.style.transition="height .3s ease, opacity .25s ease",e.style.height="0px",e.style.opacity="0"})}return(e,o)=>(i(),r("div",N,[o[4]||(o[4]=s("section",{class:"intro relative"},[s("h1",{class:"page-title text-center"},"Blog")],-1)),v.value?(i(),r("div",O,[...o[0]||(o[0]=[s("p",null,"Some media could not be loaded. An ad blocker might be blocking videos.",-1)])])):d("",!0),s("div",$,[(i(!0),r(y,null,_(g.value,(t,n)=>(i(),r("div",{key:n,class:"blog-card glass-card"},[s("div",{class:"blog-card-head",onClick:a=>B(n)},[s("div",I,[o[1]||(o[1]=s("svg",{class:"badge",viewBox:"0 0 24 24","aria-hidden":"true"},[s("circle",{cx:"12",cy:"12",r:"10",fill:"rgba(255,255,255,.12)"}),s("path",{d:"M8 12l2 2 4-4",fill:"none",stroke:"#7dd3fc","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),s("div",null,[s("h2",P,u(t.title),1),s("p",Y,u(t.date),1),!l.value[n]&&t.summary?(i(),r("p",q,u(t.summary),1)):d("",!0)])]),s("button",z,[(i(),r("svg",{viewBox:"0 0 24 24",class:f(["arr",{rot:l.value[n]}])},[...o[2]||(o[2]=[s("path",{d:"M8 5l8 7-8 7",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1)])],2))])],8,D),A(H,{name:"expand",onEnter:C,onAfterEnter:M,onLeave:j},{default:U(()=>[V(s("div",R,[s("div",W,[(i(!0),r(y,null,_(t.sections,(a,c)=>(i(),r("div",{key:c,class:"blog-section"},[a.video?(i(),r("video",{key:0,controls:"",class:f(["blog-video",p(a.imagePosition)])},[s("source",{src:a.videoObjectUrl||a.video,type:"video/mp4"},null,8,G),o[3]||(o[3]=F(" Your browser does not support the video tag. ",-1))],2)):a.image?(i(),r("img",{key:1,src:a.image,alt:`Blog image ${c}`,class:f(["blog-img",p(a.imagePosition),{enlarged:a.isEnlarged}]),onClick:te=>w(a)},null,10,J)):d("",!0),s("p",{class:"blog-content",innerHTML:k(a.content)},null,8,K)]))),128))]),t.linkText&&t.linkUrl?(i(),r("div",Q,[s("a",{href:t.linkUrl,target:"_blank",rel:"noopener noreferrer",class:"blog-url"},u(t.linkText),9,X)])):d("",!0)],512),[[S,l.value[n]]])]),_:2},1024)]))),128))])]))}},oe=L(Z,[["__scopeId","data-v-43a2e051"]]);export{oe as default};
